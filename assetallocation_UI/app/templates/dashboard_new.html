{% extends 'bootstrap/base.html' %}

{% import 'bootstrap/wtf.html' as wtf %}

{% block navbar %}
    <!-- Style of the dashoboard -->
    <head>
        <!--DASHBOARD PAGE CSS STYLE
        ================================================== -->
        <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>

        <link rel="stylesheet" href="{{url_for('.static', filename='dashboard_css.css')}}">

        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

        <style type="text/css">
            #selectInputDatesChartIMGSubmit1 {padding-top: 5px; }

body {
  font-family: "Arial",serif;
}

.sidenav {
  height: 100%;
  width: 300px;
  position: fixed;
  z-index: 1;
  top: 0;
  left: 0;
  background-color: #F5F5F5;
  overflow-x: hidden;
  padding-top: 100px;
}

.sidenav a {
  padding: 6px 8px 6px 16px;
  text-decoration: none;
  font-size: 25px;
  color: #818182;
  display: block;
}

.sidenav a:hover {
  color: #007faa;
}

.main {
  margin-left: 160px; /* Same as the width of the sidenav */
  font-size: 28px; /* Increased text to enable scrolling */
  padding: 0px 10px;
  padding-top: 10px;
}

@media screen and (max-height: 450px) {
  .sidenav {padding-top: 15px;}
  .sidenav a {font-size: 18px;}
}
.btn {font-size: .875rem; letter-spacing: 1px; text-transform: uppercase; width:190px; }

#selectionStartDateChart{text-align: center; color: #D3D3D3; padding-left: 40px; }

#selectToOkSubmit {background-color: #fff; border-color: #B0B0B0; color: #B0B0B0; width: 35px; height: 35px; font-size: 9px; padding-top: 8px; padding-left: 10px; padding-bottom: 8px;}
#dates-row {margin-left: 5px; }
        </style>

    </head>

    <!-- Body of the Dashboard Page -->
    <body>
        <style>html{margin-top:0 !important;}</style>

            <main class="main bg-dark">
                <body>
                    <div class="be-wrapper be-fixed-sidebar">
                        <!-- NAVBAR
                        ===================================== !-->
                        <nav class="navbar navbar-inverse fixed-top be-top-header">
                            <a><img width="110px" height="auto" id="icon-lgim" src="static/img/icon-lgim.png"></a>
                        </nav>

                        <!-- SIDEBAR
                        ===================================== !-->
                        <div class="sidenav">
                            <a>NAVIGATION</a>
                            <a href="{{ url_for('home') }}"><span id="home-sidebar-span">Home</span></a>

                            <a><span>Charts Data</span></a>
                            <ul class="sub-menu">
                                <div class="text-left">
                                    <!-- Export Data Form -->
                                    <form action='', method="POST" novalidate name="ExportDataForm">
                                        {{ form.hidden_tag() }}
                                        <div  class="form-group">
                                            <!-- Form: Versions -->
                                            {{ form.versions.label(id="label_text")}}
                                            <div class="row" id="sidebar-row">
                                                <div class="col-8" id="sidebar-col">
                                                    {{ form.versions(class="form-control", id="sidebar-form") }}
                                                </div>
                                                <div class="col-2">
                                                    <button class="btn btn-lg btn-primary" type="submit" name="submit_button" value="selectChartsVersionsOk" id="sidebar-submit">Ok</button>
                                                </div>
                                            </div>
                                            <!-- Form: Leverage Types -->
                                            {{ form.leverage.label(id="label_text")}}
                                            <div class="row" id="sidebar-row">
                                                <div class="col-8" id="sidebar-col">
                                                    {{ form.leverage(class="form-control", id="sidebar-form") }}
                                                </div>
                                                <div class="col-2">
                                                    <button class="btn btn-lg btn-primary" type="submit" name="submit_button" value="selectChartsLeverageOk" id="sidebar-submit">Ok</button>
                                                </div>
                                            </div>
                                            <!-- Form: Submit -->
                                            <button class="btn btn-lg btn-primary btn-block" type="submit" name="submit_button" value="selectChartsSubmit" id="sidebar-main-submit">Submit</button>
                                        </div>
                                    </form>
                                </div>
                            </ul>

                            <a><span>Export Data</span></a>
                            <ul class="sub-menu">
                                <div class="text-left">
                                    <!-- Export Data Form -->
                                    <form action='', method="POST" novalidate name="ExportDataForm">
                                        {{ form.hidden_tag() }}
                                        <div  class="form-group">
                                            <!-- Form: Versions -->
                                            {{ form.versions.label(id="label_text")}}
                                            <div class="row" id="sidebar-row">
                                                <div class="col-8" id="sidebar-col">
                                                    {{ form.versions(class="form-control", id="sidebar-form") }}
                                                </div>
                                                <div class="col-2">
                                                    <button class="btn btn-lg btn-primary" type="submit" name="submit_button" value="selectVersionsOk" id="sidebar-submit">Ok</button>
                                                </div>
                                            </div>
                                            <!-- Form: Leverage Types -->
                                            {{ form.leverage.label(id="label_text")}}
                                            <div class="row" id="sidebar-row">
                                                <div class="col-8" id="sidebar-col">
                                                    {{ form.leverage(class="form-control", id="sidebar-form") }}
                                                </div>
                                                <div class="col-2">
                                                    <button class="btn btn-lg btn-primary" type="submit" name="submit_button" value="selectLeverageOk" id="sidebar-submit">Ok</button>
                                                </div>
                                            </div>
                                            <!-- Form: Inputs -->
                                            {{ form.inputs.label(id="label_text") }}
                                            <div class="row" id="sidebar-row">
                                                <div class="col-8" id="sidebar-col">
                                                    {{ form.inputs(class="form-control", id="sidebar-form") }}
                                                </div>
                                                <div class="col-2">
                                                    <button class="btn btn-lg btn-primary" type="submit" name="submit_button" value="selectInputsOk" id="sidebar-submit1">Ok</button>
                                                </div>
                                            </div>
                                             <!-- If the user write wrong dates, then a message will be displayed -->
                                            {% for message in get_flashed_messages() %}
                                                <p class="message-dates-sidebar">{{ message }}</p>
                                            {% endfor %}
                                            <!-- Form: Start Date -->
                                            {{ form.start_date_inputs.label(id="label_text") }}<br>
                                            <div class="row" id="sidebar-row">
                                                <div class="col-8" id="sidebar-col">
                                                    <i>{{ form.start_date_inputs(class="form-control", placeholder="25/12/2018", id="sidebar-form") }}</i>
                                                </div>
                                                <div class="col-2">
                                                    <button class="btn btn-lg btn-primary" type="submit" name="submit_button" value="selectStartDateOk" id="sidebar-submit2">Ok</button>
                                                </div>
                                            </div>
                                            <!-- Form: End Date -->
                                            {{ form.end_date_inputs.label(id="label_text") }}
                                            <div class="row" id="sidebar-row">
                                                <div class="col-8" id="sidebar-col">
                                                    <i>{{ form.end_date_inputs(class="form-control", placeholder="05/01/2019", id="sidebar-form") }}</i>
                                                </div>
                                                <div class="col-2" id="submit-ok-inputs">
                                                    <button class="btn btn-lg btn-primary" type="submit" name="submit_button" value="selectEndDateOk" id="sidebar-submit2">Ok</button>
                                                </div>
                                            </div>
                                            <!-- Form: Submit -->
                                            <button class="btn btn-lg btn-primary btn-block" type="submit" name="submit_button" value="selectDataSubmit" id="sidebar-main-submit">Submit</button>
                                        </div>
                                    </form>
                                </div>
                            </ul>
                            <!-- Support Widget: connect to Outlook -->
                            <a class="support-icon" href="mailto:NexusQuantDev@lgim.com" target="_blank">Support<span><img class="icon-settings" width="auto" height="38" src="/static/img/icon-settings.png"></span></a>
                        </div>

                        <!-- CHARTS AREA
                        ===================================== !-->
                        <div class="main">
                            <h2 class="dashboard-title"><img class="icon-dashboard" width="auto" height="55" src="/static/img/icon-dashboard.png"><strong><span class="overview-span"> TIMES</span> Dashboard</strong></h2>
                            <!-- Sparklines Charts -->
                            <div class="row">
                                <div class="col-12 col-lg-6">
                                    <div class="widget widget-fullwidth be-loading">
                                        <div class="widget-head-overview"><strong>Positions YTD</strong></div>
                                        <div class="widget-chart-container">
                                            <div id="sparklines_assets_one" class="responsive-plot"></div>
                                            <script type="text/javascript" src="{{ url_for('static', filename='js/sparklines_assets_one.js') }}"></script>
                                            <script type="text/javascript">
                                                sparklinesAssetsOne({{ positions_us_equities_sparklines|tojson }},
                                                                    {{ positions_eu_equities_sparklines|tojson }},
                                                                    {{ positions_jp_equities_sparklines|tojson }},
                                                                    {{ positions_hk_equities_sparklines|tojson }},
                                                                    {{ positions_us_bonds_sparklines|tojson }},
                                                                    {{ positions_uk_bonds_sparklines|tojson }})
                                             </script>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-12 col-lg-6">
                                     <div class="widget widget-fullwidth be-loading">
                                         <div class="widget-head-overview"><strong>Positions YTD</strong></div>
                                         <div class="widget-chart-container" id="positions-sparklines-charts">
                                             <div id="sparklines_assets_two" class="responsive-plot"></div>
                                             <script type="text/javascript" src="{{ url_for('static', filename='js/sparklines_assets_two.js') }}"></script>
                                                 <script type="text/javascript">
                                                     sparklinesAssetsTwo({{ positions_eu_bonds_sparklines|tojson }},
                                                                         {{ positions_ca_bonds_sparklines|tojson }},
                                                                         {{ positions_jpy_sparklines|tojson }},
                                                                         {{ positions_eur_sparklines|tojson }},
                                                                         {{ positions_aud_sparklines|tojson }},
                                                                         {{ positions_cad_sparklines|tojson }},
                                                                         {{ positions_gbp_sparklines|tojson }}
                                                                         )
                                                 </script>
                                         </div>
                                     </div>
                                 </div>
                            </div>
                            <!-- Total Performance Positions Chart-->
                            <div class="row">
                                <div class="col-12 col-lg-12">
                                    <div class="widget widget-fullwidth be-loading" id="main-table-positions-performance-widget">
                                        <div class="widget-head-overview"><strong>TIMES</strong></div>
                                        <div class="widget-table-container" id="table1-container">
                                             <!-- Table1: Sign-Off -->
                                                <div class="signal-off">
                                                <table class="table1 table1-borderless">
                                                    <tbody class="no-border-x">
                                                        <tr>
                                                            <td id="signal-off-title">Signal-Off</td>
                                                            <td id="signal-off-date"><strong>28/11/2019</strong></td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                            </div>
                                                <!-- Table2: Total Performance Positions Chart-->
                                                <div class="row">
                                                    <div class="total-positions-performance" id="total-positions-performance">
                                                        <div class="table-responsive-lg">
                                                            <table class="table2 table2-borderless" >
                                                                <tbody class="no-border-x">
                                                                    <tr>
                                                                        <td></td>
                                                                        <td><strong>Positions</strong></td>
                                                                        <td><strong>Weekly Performance</strong></td>
                                                                        <td><strong>YTD Performance</strong></td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td><strong>Equities</strong></td>
                                                                        <td>{{ sum_positions_equities }}%</td>
                                                                        <td>{{ sum_performance_weekly_equities }}%</td>
                                                                        <td>{{ sum_performance_ytd_equities }}%</td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td><strong>Bonds</strong></td>
                                                                        <td>{{ sum_positions_bonds }}%</td>
                                                                        <td>{{ sum_performance_weekly_bonds }}%</td>
                                                                        <td>{{ sum_performance_ytd_bonds }}%</td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td><strong>FX</strong></td>
                                                                        <td>{{ sum_positions_fx }}%</td>
                                                                        <td>{{ sum_performance_weekly_fx }}%</td>
                                                                        <td>{{ sum_performance_ytd_fx }}%</td>
                                                                    </tr>
                                                              </tbody>
                                                          </table>
                                                           </div>
                                                      </div><!-- .div total-table-container -->
                                                    <div class="total-positions-bar-charts">
                                                        <table class="table3 table3-borderless">
                                                            <tbody class="no-border-x">
                                                                <tr>
                                                                    <td><strong>Positions</strong></td>
                                                                    <td><strong>Weekly Performance</strong></td>
                                                                    <td><strong>YTD Performance</strong></td>
                                                                </tr>
                                                                <tr>
                                                                    <td>
                                                                        <div id="positions-summary" class="responsive-plot">
                                                                            <script type="text/javascript" src="{{ url_for('static', filename='js/positions_summary.js') }}"></script>
                                                                            <script type="text/javascript">
                                                                                positionsSummary({{ sum_positions_fx|tojson }},
                                                                                                 {{ sum_positions_bonds|tojson }},
                                                                                                 {{ sum_positions_equities|tojson }})
                                                                            </script>
                                                                          </div>
                                                                    </td>
                                                                    <td>
                                                                        <div id="weekly_summary" class="responsive-plot">
                                                                            <script type="text/javascript" src="{{ url_for('static', filename='js/weekly_summary.js') }}"></script>
                                                                            <script type="text/javascript">
                                                                                weeklySummary({{ sum_performance_weekly_fx|tojson }},
                                                                                              {{ sum_performance_weekly_bonds|tojson }},
                                                                                              {{ sum_performance_weekly_equities|tojson }})
                                                                            </script>
                                                                          </div>
                                                                    </td>
                                                                    <td>
                                                                        <div id="ytd_summary" class="responsive-plot">
                                                                            <script type="text/javascript" src="{{ url_for('static', filename='js/ytd_summary.js') }}"></script>
                                                                            <script type="text/javascript">
                                                                                ytdSummary({{ sum_performance_ytd_fx|tojson }},
                                                                                           {{ sum_performance_ytd_bonds|tojson }},
                                                                                           {{ sum_performance_ytd_equities|tojson }})
                                                                            </script>
                                                                          </div>
                                                                    </td>
                                                                </tr>
                                                            </tbody>
                                                        </table>
                                                    </div>
                                                 </div>
                                                <!-- Table4: Main table Total Performance Positions -->
                                                <div class="main-table-positions-performance" >
                                                    <div class="table-responsive-lg">
                                                        <table class="table table4-borderless" id="table4">
                                                         <tbody class="no-border-x">
                                                                <tr>
                                                                    <td><strong>Class</strong></td>
                                                                    <td><strong>Assets</strong></td>
                                                                    <td><strong>Signals</strong>
                                                                    <td><strong>Today Positions</strong></td>
                                                                    <td><strong>Last Week Positions</strong></td>
                                                                    <td><strong>Buy/Sell</strong></td>
                                                                    <td><strong>Change</strong></td>
                                                                    <td><strong>Weekly Performance</strong></td>
                                                                    <td><strong>YTD</strong></td>
                                                                </tr>

                                                                <tr>
                                                                    <td><strong>Equities</strong></td>
                                                                    <td>US Equities</td>
                                                                    <td>{{ signals_us_equities }}</td>
                                                                    <td>{{  positions_us_equities_overview }}%</td>
                                                                    <td>{{  positions_us_equities_overview }}%</td>
                                                                    <td>Buy/Sell</td>
                                                                    <td>Change%</td>
                                                                    <td>{{  performance_us_equities }}%</td>
                                                                    <td>{{  performance_ytd_us_equities }}%</td>
                                                                </tr>

                                                                <tr>
                                                                    <td><strong>Equities</strong></td>
                                                                    <td>EU Equities</td>
                                                                    <td>{{ signals_eu_equities }}</td>
                                                                    <td>{{ positions_eu_equities_overview }}%</td>
                                                                    <td>{{ positions_eu_equities_overview }}%</td>
                                                                    <td>Buy/Sell</td>
                                                                    <td>Change%</td>
                                                                    <td>{{ performance_eu_equities }}%</td>
                                                                    <td>{{ performance_ytd_eu_equities }}%</td>
                                                                </tr>

                                                                <tr>
                                                                    <td><strong>Equities</strong></td>
                                                                    <td>JP Equities</td>
                                                                    <td>{{ signals_jp_equities }}</td>
                                                                    <td>{{ positions_jp_equities_overview }}%</td>
                                                                    <td>{{ positions_jp_equities_overview }}%</td>
                                                                    <td>Buy/Sell</td>
                                                                    <td>Change%</td>
                                                                    <td>{{ performance_jp_equities }}%</td>
                                                                    <td>{{ performance_ytd_jp_equities }}%</td>
                                                                </tr>

                                                                <tr>
                                                                    <td><strong>Equities</strong></td>
                                                                    <td>HK Equities</td>
                                                                    <td>{{ signals_hk_equities }}</td>
                                                                    <td>{{ positions_hk_equities_overview }}%</td>
                                                                    <td>{{ positions_hk_equities_overview }}%</td>
                                                                    <td>Buy/Sell</td>
                                                                    <td>Change%</td>
                                                                    <td>{{ performance_hk_equities }}%</td>
                                                                    <td>{{ performance_ytd_hk_equities }}%</td>
                                                                </tr>

                                                                <tr>
                                                                    <td><strong>Bonds</strong></td>
                                                                    <td>US 10y Bonds</td>
                                                                    <td>{{ signals_us_bonds }}</td>
                                                                    <td>{{  positions_us_bonds_overview }}%</td>
                                                                    <td>{{  positions_us_bonds_overview }}%</td>
                                                                    <td>Buy/Sell</td>
                                                                    <td>Change%</td>
                                                                    <td>{{  performance_us_bonds }}%</td>
                                                                    <td>{{  performance_ytd_us_bonds }}%</td>
                                                                </tr>

                                                                <tr>
                                                                    <td><strong>Bonds</strong></td>
                                                                    <td>UK 10y Bonds</td>
                                                                    <td>{{ signals_uk_bonds }}</td>
                                                                    <td>{{ positions_uk_bonds_overview }}%</td>
                                                                    <td>{{ positions_uk_bonds_overview }}%</td>
                                                                    <td>Buy/Sell</td>
                                                                    <td>Change%</td>
                                                                    <td>{{ performance_uk_bonds }}%</td>
                                                                    <td>{{ performance_ytd_uk_bonds }}%</td>
                                                                </tr>

                                                                <tr>
                                                                    <td><strong>Bonds</strong></td>
                                                                    <td>Eu 10y Bonds</td>
                                                                    <td>{{ signals_eu_bonds }}</td>
                                                                    <td>{{ positions_eu_bonds_overview }}%</td>
                                                                    <td>{{ positions_eu_bonds_overview }}%</td>
                                                                    <td>Buy/Sell</td>
                                                                    <td>Change%</td>
                                                                    <td>{{ performance_eu_bonds }}%</td>
                                                                    <td>{{ performance_ytd_eu_bonds }}%</td>
                                                                </tr>

                                                                <tr>
                                                                    <td><strong>Bonds</strong></td>
                                                                    <td>CA 10y Bonds</td>
                                                                    <td>{{ signals_ca_bonds }}</td>
                                                                    <td>{{ positions_ca_bonds_overview }}%</td>
                                                                    <td>{{ positions_ca_bonds_overview }}%</td>
                                                                    <td>Buy/Sell</td>
                                                                    <td>Change%</td>
                                                                    <td>{{ performance_ca_bonds }}%</td>
                                                                    <td>{{ performance_ytd_ca_bonds }}%</td>
                                                                </tr>

                                                                <tr>
                                                                    <td><strong>FX</strong></td>
                                                                    <td>JPY</td>
                                                                    <td>{{ signals_jpy }}</td>
                                                                    <td>{{ positions_jpy_overview }}%</td>
                                                                    <td>{{ positions_jpy_overview }}%</td>
                                                                    <td>Buy/Sell</td>
                                                                    <td>Change%</td>
                                                                    <td>{{ performance_jpy_overview }}%</td>
                                                                    <td>{{ performance_ytd_jpy }}%</td>
                                                                </tr>

                                                                <tr>
                                                                    <td><strong>FX</strong></td>
                                                                    <td>EUR</td>
                                                                    <td>{{ signals_eur }}</td>
                                                                    <td>{{  positions_eur_overview }}</td>
                                                                    <td>{{  positions_eur_overview }}</td>
                                                                    <td>Buy/Sell</td>
                                                                    <td>Change%</td>
                                                                    <td>{{ performance_eur_overview }}%</td>
                                                                    <td>{{ performance_ytd_eur }}%</td>
                                                                </tr>

                                                                <tr>
                                                                    <td><strong>FX</strong></td>
                                                                    <td>AUD</td>
                                                                    <td>{{ signals_aud }}</td>
                                                                    <td>{{ positions_aud_overview }}%</td>
                                                                    <td>{{ positions_aud_overview }}%</td>
                                                                    <td>Buy/Sell</td>
                                                                    <td>Change%</td>
                                                                    <td>{{ performance_aud_overview }}%</td>
                                                                    <td>{{ performance_ytd_aud }}%</td>
                                                                </tr>

                                                                <tr>
                                                                    <td><strong>FX</strong></td>
                                                                    <td>CAD</td>
                                                                    <td>{{ signals_cad }}</td>
                                                                    <td>{{ positions_cad_overview }}%</td>
                                                                    <td>{{ positions_cad_overview }}%</td>
                                                                    <td>Buy/Sell</td>
                                                                    <td>Change%</td>
                                                                    <td>{{ performance_cad_overview }}%</td>
                                                                    <td>{{ performance_ytd_cad }}%</td>
                                                                </tr>

                                                                <tr>
                                                                    <td><strong>FX</strong></td>
                                                                    <td>GBP</td>
                                                                    <td>{{ signals_gbp }}</td>
                                                                    <td>{{ positions_gbp_overview }}%</td>
                                                                    <td>{{ positions_gbp_overview }}%</td>
                                                                    <td>Buy/Sell</td>
                                                                    <td>Change%</td>
                                                                    <td>{{ performance_gbp_overview }}%</td>
                                                                    <td>{{ performance_ytd_gbp }}%</td>
                                                                </tr>

                                                                <tr>
                                                                    <td><strong>Total Positions</strong></td>
                                                                    <td></td>
                                                                    <td></td>
                                                                    <td>Total</td>
                                                                    <td>Total</td>
                                                                    <td></td>
                                                                    <td></td>
                                                                    <td></td>
                                                                    <td></td>
                                                                </tr>
                                                             </tbody>
                                                     </table>
                                                    </div>
                                             </div><!-- .div main-table-container -->
                                        </div>
                                    </div>
                                </div>
                            </div>
                             <!-- Total Performance Positions Chart-->
                            <div class="row">
                                <div class="col-12 col-lg-12">
                                    <div class="widget widget-fullwidth be-loading" id="main-table-positions-performance-widget">
                                        <div class="widget-head-overview"><strong>TIMES</strong></div>
                                            <div class="widget-chart-container">
                                                 <div class="main-table-positions-performance-charts">
                                                     <div class="table-responsive-lg">
                                                        <table class="table table-borderless" id="table-charts1">
                                                            <tbody class="no-border-x">
                                                                <tr>
                                                                    <td id="signals_title"><strong>Signals</strong></td>
                                                                    <td id="positions_title"><strong>Positions</strong></td>
                                                                    <td id="weekly_title"><strong>Performances Weekly</strong></td>
                                                                    <td id="ytd_title"><strong>Performances YTD</strong></td>
                                                                </tr>
                                                                <tr>
                                                                    <td>
                                                                        <div id="signals_assets" class="responsive-plot"></div>
                                                                        <script type="text/javascript" src="{{ url_for('static', filename='js/signal_assets.js') }}"></script>
                                                                        <script type="text/javascript">
                                                                             signalsAssets({{ signals_gbp|tojson }},
                                                                                           {{ signals_cad|tojson }},
                                                                                           {{ signals_aud|tojson }},
                                                                                           {{ signals_eur|tojson }},
                                                                                           {{ signals_jpy|tojson }},
                                                                                           {{ signals_ca_bonds|tojson }},
                                                                                           {{ signals_eu_bonds|tojson }},
                                                                                           {{ signals_uk_bonds|tojson }},
                                                                                           {{ signals_us_bonds|tojson }},
                                                                                           {{ signals_hk_equities|tojson }},
                                                                                           {{ signals_jp_equities|tojson }},
                                                                                           {{ signals_eu_equities|tojson }},
                                                                                           {{ signals_us_equities|tojson }})
                                                                        </script>
                                                                    </td>
                                                                    <td>
                                                                        <div id="position_assets" class="responsive-plot"></div>
                                                                        <script type="text/javascript" src="{{ url_for('static', filename='js/positions_assets.js') }}"></script>
                                                                        <script type="text/javascript">
                                                                            positionsAssets({{ positions_gbp_overview|tojson }},
                                                                                            {{ positions_cad_overview|tojson }},
                                                                                            {{ positions_aud_overview|tojson }},
                                                                                            {{ positions_eur_overview|tojson }},
                                                                                            {{ positions_jpy_overview|tojson }},
                                                                                            {{ positions_ca_bonds_overview|tojson }},
                                                                                            {{ positions_eu_bonds_overview|tojson }},
                                                                                            {{ positions_uk_bonds_overview|tojson }},
                                                                                            {{ positions_us_bonds_overview|tojson }},
                                                                                            {{ positions_hk_equities_overview|tojson }},
                                                                                            {{ positions_jp_equities_overview|tojson }},
                                                                                            {{ positions_eu_equities_overview|tojson }},
                                                                                            {{ positions_us_equities_overview|tojson }})
                                                                        </script>
                                                                    </td>
                                                                    <td>
                                                                        <div id="weekly_assets" class="responsive-plot"></div>
                                                                        <script type="text/javascript" src="{{ url_for('static', filename='js/weekly_assets.js') }}"></script>
                                                                        <script type="text/javascript">
                                                                            weeklyAssets({{ performance_gbp_overview|tojson }},
                                                                                         {{ performance_cad_overview|tojson }},
                                                                                         {{ performance_aud_overview|tojson }},
                                                                                         {{ performance_eur_overview|tojson }},
                                                                                         {{ performance_jpy_overview|tojson }},
                                                                                         {{ performance_ca_bonds|tojson }},
                                                                                         {{ performance_eu_bonds|tojson }},
                                                                                         {{ performance_uk_bonds|tojson }},
                                                                                         {{ performance_us_bonds|tojson }},
                                                                                         {{ performance_hk_equities|tojson }},
                                                                                         {{ performance_jp_equities|tojson }},
                                                                                         {{ performance_eu_equities|tojson }},
                                                                                         {{ performance_us_equities|tojson }})
                                                                        </script>
                                                                    </td>
                                                                    <td>
                                                                        <div id="ytd_assets" class="responsive-plot"></div>
                                                                        <script type="text/javascript" src="{{ url_for('static', filename='js/ytd_assets.js') }}"></script>
                                                                        <script type="text/javascript">
                                                                            ytdAssets({{ performance_ytd_gbp|tojson }},
                                                                                      {{ performance_ytd_cad|tojson }},
                                                                                      {{ performance_ytd_aud|tojson }},
                                                                                      {{ performance_ytd_eur|tojson }},
                                                                                      {{ performance_ytd_jpy|tojson }},
                                                                                      {{ performance_ytd_ca_bonds|tojson }},
                                                                                      {{ performance_ytd_eu_bonds|tojson }},
                                                                                      {{ performance_ytd_uk_bonds|tojson }},
                                                                                      {{ performance_ytd_us_bonds|tojson }},
                                                                                      {{ performance_ytd_hk_equities|tojson }},
                                                                                      {{ performance_ytd_jp_equities|tojson }},
                                                                                      {{ performance_ytd_eu_equities|tojson }},
                                                                                      {{ performance_ytd_us_equities|tojson }})
                                                                        </script>
                                                                    </td>
                                                                </tr>
                                                            </tbody>
                                                        </table>
                                                     </div>
                                                 </div>
                                            </div>
                                    </div>
                                </div>
                            </div>
                            <!-- Chart: Asset Allocation Over Times-->
                            <div class="row">
                                <div class="col-lg-12">
                                    <div class="widget widget-fullwidth be-loading">
                                        <div class="widget-head">
                                            <div class="dates">
                                                <!--Date Form -->
                                                <form action='', method="POST" novalidate name="DateForm">
                                                    {{ form.hidden_tag() }}
                                                    <div  class="form-group" id="date_chart0_form">
                                                        <div class="row" id="dates-row">
                                                            <div class="col-3" id="versions-row">
                                                                <i>{{ form.start_date_chart0(class="form-control", placeholder= "01/01/2020", id="charts-form") }}</i>
                                                            </div>
                                                            <div class="col-3" id="versions-row">
                                                                <i>{{ form.end_date_chart0(class="form-control", placeholder= "05/01/2020", id="charts-form") }}</i>
                                                            </div>
                                                            <div class="col-3" id="submit-ok-versions">
                                                                <button class="btn btn-lg btn-primary" type="submit" name="submit_button" value="selectDatesChart0" id="charts-submit">Ok</button>
                                                            </div>
                                                            <div class="col-3" id="versions-row">
                                                                <button class="button" type="submit" name="submit_button" value="selectDataChart0" id="selectDownloadDataChart">
                                                                    <i class="fa fa-cloud-download" style="font-size:36px;color:lightgrey;"></i></button>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </form>
                                                 <!-- If the user write wrong dates, then a message will be displayed -->
                                                {% if m == "Check the Start and End Date. They are incorrect for the first chart." %}
                                                    <p class="message-dates-charts">{{ m }}</p>
                                                {% endif %}
                                            </div>
                                        </div>
                                        <div class="widget-chart-container">
                                            <div id="asset_allocation_over_times" align = "center" class="responsive-plot" ></div>
                                            <script type="text/javascript" src="{{ url_for('static', filename='js/asset_allocation_over_times.js') }}"></script>
                                            <script type="text/javascript">
                                                assetAllocationChart({{ positions_us_equities|tojson }},
                                                                     {{ positions_eu_equities|tojson }},
                                                                     {{ positions_jp_equities|tojson }},
                                                                     {{ positions_hk_equities|tojson }},
                                                                     {{ positions_us_bonds|tojson }},
                                                                     {{ positions_uk_bonds|tojson }},
                                                                     {{ positions_eu_bonds|tojson }},
                                                                     {{ positions_ca_bonds|tojson }},
                                                                     {{ positions_jpy|tojson }},
                                                                     {{ positions_eur|tojson }},
                                                                     {{ positions_aud|tojson }},
                                                                     {{ positions_cad|tojson }},
                                                                     {{ positions_gbp|tojson }}
                                                                     )
                                            </script>
                                        </div>
                                      </div>
                                    </div>
                                </div>
                            <!-- Two Charts: Performance-->
                            <div class="row">
                                <div class="col-12 col-lg-6">
                                    <div class="widget widget-fullwidth be-loading">
                                        <div class="widget-head">
                                            <div class="dates">
                                                <!--Date Form -->
                                                <form action='', method="POST" novalidate name="DateForm">
                                                    {{ form.hidden_tag() }}
                                                     <div class="row" id="dates-row">
                                                            <div class="col-3" id="versions-row">
                                                                <i>{{ form.start_date_chart1(class="form-control", placeholder= "01/01/2020", id="charts-form") }}</i>
                                                            </div>
                                                            <div class="col-3" id="versions-row">
                                                                <i>{{ form.end_date_chart1(class="form-control", placeholder= "05/01/2020", id="charts-form") }}</i>
                                                            </div>
                                                            <div class="col-3" id="submit-ok-versions">
                                                                <button class="btn btn-lg btn-primary" type="submit" name="submit_button" value="selectDatesChart1" id="charts-submit">Ok</button>
                                                            </div>
                                                            <div class="col-3" id="versions-row">
                                                                <button class="button" type="submit" name="submit_button" value="selectDataChart0" id="selectDownloadDataChart">
                                                                    <i class="fa fa-cloud-download" style="font-size:36px;color:lightgrey;"></i></button>
                                                            </div>
                                                        </div>
                                                </form>
                                                 <!-- If the user write wrong dates, then a message will be displayed -->
                                                {% if m == "Check the Start and End Date. They are incorrect for this second chart." %}
                                                    <p class="message-dates-charts">{{ m }}</p>
                                                {% endif %}
                                            </div>
                                        </div>
                                        <div class="widget-chart-container">
                                            <div id="performance_jpy" align = "center" class="responsive-plot" ></div>
                                            <script type="text/javascript" src="{{ url_for('static', filename='js/performance_jpy.js') }}"></script>
                                            <script type="text/javascript">
                                                performanceJpyChart({{ performance_jpy|tojson }})
                                            </script>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-12 col-lg-6">
                                    <div class="widget widget-fullwidth be-loading">
                                        <div class="widget-head">
                                            <div class="dates">
                                                <!--Date Form -->
                                                <form action='', method="POST" novalidate name="DateForm">
                                                    {{ form.hidden_tag() }}
                                                     <div class="row" id="dates-row">
                                                            <div class="col-3" id="versions-row">
                                                                <i>{{ form.start_date_chart2(class="form-control", placeholder= "01/01/2020", id="charts-form") }}</i>
                                                            </div>
                                                            <div class="col-3" id="versions-row">
                                                                <i>{{ form.end_date_chart2(class="form-control", placeholder= "05/01/2020", id="charts-form") }}</i>
                                                            </div>
                                                            <div class="col-3" id="submit-ok-versions">
                                                                <button class="btn btn-lg btn-primary" type="submit" name="submit_button" value="selectDatesChart2" id="charts-submit">Ok</button>
                                                            </div>
                                                            <div class="col-3" id="versions-row">
                                                                <button class="button" type="submit" name="submit_button" value="selectDataChart2" id="selectDownloadDataChart">
                                                                    <i class="fa fa-cloud-download" style="font-size:36px;color:lightgrey;"></i></button>
                                                            </div>
                                                     </div>
                                                </form>
                                                <!-- If the user write wrong dates, then a message will be displayed -->
                                                {% if m ==  "Check the Start and End Date. They are incorrect for this third chart." %}
                                                    <p class="message-dates-charts">{{ m }}</p>
                                                {% endif %}
                                            </div>
                                        </div>
                                        <div class="widget-chart-container">
                                            <div id="performance_eur" align = "center" class="responsive-plot" ></div>
                                            <script type="text/javascript" src="{{ url_for('static', filename='js/performance_eur.js') }}"></script>
                                            <script type="text/javascript">
                                                performanceEurChart({{ performance_eur|tojson }})
                                            </script>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-12 col-lg-6">
                                    <div class="widget widget-fullwidth be-loading">
                                        <div class="widget-head">
                                            <div class="dates">
                                                <!--Date Form -->
                                                <form action='', method="POST" novalidate name="DateForm">
                                                    {{ form.hidden_tag() }}
                                                    <div  class="form-group" id="date_chart0_form">
                                                        <div class="row" id="dates-row">
                                                            <div class="col-3" id="versions-row">
                                                                <i>{{ form.start_date_chart3(class="form-control", placeholder="01/01/2020", id="charts-form") }}</i>
                                                            </div>
                                                            <div class="col-3" id="versions-row">
                                                                <i>{{ form.end_date_chart3(class="form-control", placeholder="05/01/2020", id="charts-form") }}</i>
                                                            </div>
                                                            <div class="col-3" id="submit-ok-versions">
                                                                <button class="btn btn-lg btn-primary" type="submit" name="submit_button" value="selectDatesChart3" id="charts-submit">Ok</button>
                                                            </div>
                                                            <div class="col-3" id="versions-row">
                                                                <button class="button" type="submit" name="submit_button" value="selectDataChart3" id="selectDownloadDataChart">
                                                                    <i class="fa fa-cloud-download" style="font-size:36px;color:lightgrey;"></i></button>
                                                                </div>
                                                         </div>
                                                    </div>
                                                </form>
                                                 <!-- If the user write wrong dates, then a message will be displayed -->
                                                {% if m ==  "Check the Start and End Date. They are incorrect for this fourth chart." %}
                                                    <p class="message-dates-charts">{{ m }}</p>
                                                {% endif %}
                                            </div>
                                        </div>
                                        <div class="widget-chart-container">
                                            <div id="performance_aud" align = "center" class="responsive-plot" ></div>
                                            <script type="text/javascript" src="{{ url_for('static', filename='js/performance_aud.js') }}"></script>
                                            <script type="text/javascript">
                                                performanceAudChart({{ performance_aud|tojson }})
                                            </script>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-12 col-lg-6">
                                    <div class="widget widget-fullwidth be-loading">
                                        <div class="widget-head">
                                            <div class="dates">
                                                <!--Date Form -->
                                                <form action='', method="POST" novalidate name="DateForm">
                                                    {{ form.hidden_tag() }}
                                                    <div  class="form-group" id="date_chart0_form">
                                                        <div  class="form-group" id="date_chart0_form">
                                                            <div class="row" id="dates-row">
                                                                <div class="col-3" id="versions-row">
                                                                    <i>{{ form.start_date_chart4(class="form-control", placeholder="01/01/2020", id="charts-form") }}</i>
                                                                </div>
                                                                <div class="col-3" id="versions-row">
                                                                    <i>{{ form.end_date_chart4(class="form-control", placeholder="05/01/2020", id="charts-form") }}</i>
                                                                </div>
                                                                <div class="col-3" id="submit-ok-versions">
                                                                    <button class="btn btn-lg btn-primary" type="submit" name="submit_button" value="selectDatesChart4" id="charts-submit">Ok</button>
                                                                </div>
                                                                <div class="col-3" id="versions-row">
                                                                    <button class="button" type="submit" name="submit_button" value="selectDataChart4" id="selectDownloadDataChart">
                                                                        <i class="fa fa-cloud-download" style="font-size:36px;color:lightgrey;"></i></button>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </form>
                                                 <!-- If the user write wrong dates, then a message will be displayed -->
                                                {% if m ==  "Check the Start and End Date. They are incorrect for this fifth chart."%}
                                                    <p class="message-dates-charts">{{ m }}</p>
                                                {% endif %}
                                            </div>
                                        </div>
                                        <div class="widget-chart-container">
                                            <div id="performance_cad" align = "center" class="responsive-plot" ></div>
                                            <script type="text/javascript" src="{{ url_for('static', filename='js/performance_cad.js') }}"></script>
                                            <script type="text/javascript">
                                                performanceCadChart({{ performance_cad|tojson }})
                                            </script>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </body><!-- .body2 -->
            </main>

         <!-- FOOTER
         ===================================== !-->
            <footer class="footer" id="container-footer">
                <div class="container" align="center">
                    <span class="text-muted" id="footer-dashboard-title">© Legal & General 2020</span>
                </div>
            </footer><!-- .footer -->

    </body><!-- .body1 -->
{% endblock %}